<!--Authors: John Gabriel Pampo, Justine Lucas-->
<!-- blacklist.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GoGora - Blacklist Management</title>
  <link rel="stylesheet" href="admin.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Markazi+Text:wght@400..700&display=swap" rel="stylesheet">   
  <script src="/api/blacklist_manager.js" defer></script>
  <style>
    .search-filters {
      display: flex;
      justify-content: flex-start;
      gap: 30px;
      margin: 20px 0;
      align-items: center;
    }

    .filter-group {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .table-wrapper {
      margin-top: 20px;
    }

    #blacklistTable th,
    #blacklistTable td {
      padding: 15px;
      text-align: left;
    }

    .action-bar {
      margin: 20px 0;
    }

    .modal-content {
      padding: 25px;
    }

    .form-group {
      margin: 15px 0;
    }

    .button-group {
      margin-top: 20px;
      display: flex;
      gap: 15px;
    }
  </style>
</head>
<body>
  <div class="dashboard">
    <aside class="sidebar">
      <div class="logo">
        <h2><span style="color: #4285F4;">Go</span><span style="color: #FBBC05;">Go</span><span style="color: #FBBC05;">Ra</span></h2>
      </div>
      <nav>
        <ul class="menu">
          <li><a href="index.html" class="menu-item"><i class="icon">ğŸ </i> Dashboard</a></li>
          <li><a href="ride_manager.html" class="menu-item"><i class="icon">ğŸ›£ï¸</i> Manage Rides</a></li>
          <li><a href="account_manager.html" class="menu-item"><i class="icon">ğŸ‘¥</i> Manage Accounts</a></li>
          <li><a href="statistics.html" class="menu-item"><i class="icon">ğŸ“Š</i> Statistics</a></li>
          <li><a href="blacklist.html" class="menu-item active"><i class="icon">ğŸš«</i> Blacklist Passengers</a></li>
        </ul>
      </nav>
    </aside>
    <main class="main-content">
      <h1>Blacklist Management</h1>
      
      <!-- Search and Filter Section -->
      <div class="search-filters">
        <div class="filter-group">
          <label for="searchInput">Search:</label>
          <input type="text" id="searchInput" placeholder="Search by username">
        </div>
        <div class="filter-group">
          <label for="filterStatus">Status:</label>
          <select id="filterStatus">
            <option value="">All Status</option>
            <option value="pending">Pending</option>
            <option value="Blacklisted">Blacklisted</option>
            <option value="cleared">Cleared</option>
          </select>
        </div>
      </div>

      <!-- Add to Blacklist Button -->
      <div class="action-bar">
        <button class="add-button" onclick="openAddBlacklistModal()">+ Add to Blacklist</button>
      </div>

      <!-- Blacklist Table -->
      <div class="table-wrapper rides-section">
        <table id="blacklistTable">
          <thead>
            <tr>
              <th>Username</th>
              <th>Reason</th>
              <th>Status</th>
              <th>Date Added</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            <!-- Dynamically populated -->
          </tbody>
        </table>
      </div>
    </main>
  </div>

  <!-- Add to Blacklist Modal -->
  <div id="addBlacklistModal" class="modal">
    <div class="modal-content">
      <h2>Add to Blacklist</h2>
      <form id="addBlacklistForm">
        <div class="form-group">
          <label for="userId">Select User:</label>
          <select id="userId" required>
            <!-- Populated dynamically -->
          </select>
        </div>
        <div class="form-group">
          <label for="notes">Reason:</label>
          <textarea id="notes" rows="3" required></textarea>
        </div>
        <div class="button-group">
          <button type="submit">Add to Blacklist</button>
          <button type="button" onclick="closeAddBlacklistModal()">Cancel</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Update Status Modal -->
  <div id="updateStatusModal" class="modal">
    <div class="modal-content">
      <h2>Update Status</h2>
      <form id="updateStatusForm">
        <input type="hidden" id="updateBlacklistId">
        <div class="form-group">
          <label for="updateStatus">Status:</label>
          <select id="updateStatus" required>
            <option value="pending">Pending</option>
            <option value="Blacklisted">Blacklisted</option>
            <option value="cleared">Cleared</option>
          </select>
        </div>
        <div class="form-group">
          <label for="updateNotes">Reason:</label>
          <textarea id="updateNotes" rows="3"></textarea>
        </div>
        <div class="button-group">
          <button type="submit">Update</button>
          <button type="button" onclick="closeUpdateStatusModal()">Cancel</button>
        </div>
      </form>
    </div>
  </div>
</body>
</html>
