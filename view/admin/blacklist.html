<!--Authors: John Gabriel Pampo, Justine Lucas-->
<!-- blacklist.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GoGora - Blacklist Management</title>
  <link rel="stylesheet" href="admin.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Markazi+Text:wght@400..700&display=swap" rel="stylesheet">   
  <script src="script.js" defer></script>
  <link rel="icon" type="image/png" href="/assets/favicon.png">
  <style>
    /* Blacklist specific styles */
    .blacklist-controls {
      position: absolute;
      right: 10px;
      top: 10px;
      display: flex;
      gap: 8px;
    }

    .blacklist-modal-content.minimized {
      transform: scale(0.7);
      width: 70%;
      margin-top: 80vh;
      opacity: 0.8;
    }

    .blacklist-modal-content.maximized {
      width: 95vw;
      max-width: none;
      height: 90vh;
      margin: 5vh auto;
    }
  </style>
</head>
<body>
  <div class="dashboard">
    <aside class="sidebar">
      <div class="logo">
        <h2><span style="color: #4285F4;">Go</span><span style="color: #FBBC05;">Go</span><span style="color: #FBBC05;">Ra</span></h2>
      </div>
      <nav>
        <ul class="menu">
          <li><a href="index.html" class="menu-item"><i class="icon">üè†</i> Dashboard</a></li>
          <li><a href="ride_manager.html" class="menu-item"><i class="icon">üõ£Ô∏è</i> Manage Rides</a>
          <li><a href="account_manager.html" class="menu-item"><i class="icon">üë•</i> Manage Accounts</a></li>
          <li><a href="statistics.html" class="menu-item"><i class="icon">üìä</i> Statistics</a></li>
          <li><a href="blacklist.html" class="menu-item"><i class="icon">üö´</i> Blacklist Passengers</a></li>
        </ul>
      </nav>
    </aside>
    <main class="main-content">
      <h1>Blacklist Management</h1>
      
      <!-- Search and Filter Section -->
      <div class="search-filters">
        <div class="filter-group">
          <label for="searchInput">Search:</label>
          <input type="text" id="searchInput" placeholder="Search by name">
        </div>
        <div class="filter-group">
          <label for="filterStatus">Status:</label>
          <select id="filterStatus">
            <option value="">All Status</option>
            <option value="pending">Pending</option>
            <option value="approved">Approved</option>
            <option value="rejected">Rejected</option>
            <option value="cleared">Cleared</option>
          </select>
        </div>
        <div class="filter-group">
          <label for="filterReason">Reason:</label>
          <select id="filterReason">
            <option value="">All Reasons</option>
            <option value="0001">Did not pay on time</option>
            <option value="0002">Frequent cancellations</option>
            <option value="0003">Mass bookings</option>
          </select>
        </div>
        <div class="filter-buttons">
          <button onclick="applyFilters()">Apply</button>
          <button onclick="clearFilters()">Clear All</button>
        </div>
      </div>

      <!-- Add to Blacklist Button -->
      <div class="action-bar">
        <button class="add-button" onclick="openAddBlacklistModal()">+ Add to Blacklist</button>
      </div>

      <!-- Blacklist Table -->
      <div class="table-wrapper rides-section">
        <table id="blacklistTable">
          <thead>
            <tr>
              <th>User</th>
              <th>Reason</th>
              <th>Notes</th>
              <th>Status</th>
              <th>Date Added</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            <!-- Dynamically populated -->
          </tbody>
        </table>
      </div>
    </main>
  </div>

  <!-- Add to Blacklist Modal -->
  <div id="addBlacklistModal" class="modal">
    <div class="modal-content">
      <h2>Add to Blacklist</h2>
      <form id="addBlacklistForm">
        <div class="form-group">
          <label for="userId">Select User:</label>
          <select id="userId" required>
            <!-- Populated dynamically -->
          </select>
        </div>
        <div class="form-group">
          <label for="reasonId">Reason:</label>
          <select id="reasonId" required>
            <option value="0001">Did not pay on time</option>
            <option value="0002">Frequent cancellations</option>
            <option value="0003">Mass bookings</option>
          </select>
        </div>
        <div class="form-group">
          <label for="notes">Additional Notes:</label>
          <textarea id="notes" rows="3"></textarea>
        </div>
        <div class="button-group">
          <button type="submit">Add to Blacklist</button>
          <button type="button" onclick="closeAddBlacklistModal()">Cancel</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Update Status Modal -->
  <div id="updateStatusModal" class="modal">
    <div class="modal-content">
      <h2>Update Status</h2>
      <form id="updateStatusForm">
        <input type="hidden" id="updateBlacklistId">
        <div class="form-group">
          <label for="updateStatus">Status:</label>
          <select id="updateStatus" required>
            <option value="pending">Pending</option>
            <option value="approved">Approved</option>
            <option value="rejected">Rejected</option>
            <option value="cleared">Cleared</option>
          </select>
        </div>
        <div class="form-group">
          <label for="updateNotes">Notes:</label>
          <textarea id="updateNotes" rows="3"></textarea>
        </div>
        <div class="button-group">
          <button type="submit">Update</button>
          <button type="button" onclick="closeUpdateStatusModal()">Cancel</button>
        </div>
      </form>
    </div>
  </div>
</body>
</html>

